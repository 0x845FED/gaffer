language: cpp

os:
    - linux
    - osx

before_install:
    - sudo apt-get update -qq
    - sudo apt-get install -qq inkscape
    - sudo apt-get install -qq doxygen

install: python ./config/travis/installDependencies.py

script:
    - scons install CXX=$CXX ENV_VARS_TO_IMPORT=PATH
    - ./install/gaffer-*/bin/gaffer test GafferTest
    - ./install/gaffer-*/bin/gaffer test GafferImageTest
    - ./install/gaffer-*/bin/gaffer test GafferSceneTest
    - ./install/gaffer-*/bin/gaffer test GafferOSLTest

compiler:
    - gcc
    - clang
